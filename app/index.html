<!DOCTYPE html>
<html>
  <head>
    <title>SF Movies | Find out where the best movies happened in San Fransisco</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="bower_components/boc-autocomplete/build/boc.autocomplete.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script type="text/javascript" src="bower_components/boc-autocomplete/build/boc.autocomplete.min.js"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmB6mTdjeQQrC3idzFKh1Vi5mwZ_5ogqo"></script>
    <script type="text/javascript" src="qs.js"></script>
    <script type="text/javascript" src="google-map.js"></script>
    <script type="text/javascript" src="framework.js"></script>
  </head>
  <body>
    <div id="map-canvas"></div>

    <!-- home template -->
    <div id="home" style="display:none;">
      <h2>SF Movies</h2>
      <div>
        See film locations for all movies filmed in San Fransisco. <strong>Click on a marker to see more information about a location.</strong>.
      </div>
      <div>
        This is a sample project from <a href="http://www.bradoncode.com">Bradley Braithwaite</a>.
      </div>
    </div>

    <!-- search template -->
    <div id="search" style="display:none;">
      <input type="search" id="query" name="query" placeholder="Enter film title...">
    </div>

    <!-- film detail -->
    <div id="film" style="display:none;overflow: scroll; height:135px;margin-top:5px;">
      <img data-src="{{detail.poster}}" width="80" height="119" align="right" />
      <h2>{{detail.title}}</h2>
      <p>{{detail.releaseYear}}</em>, Director: <em>{{detail.director}}</em></p>
      <p>Staring: {{detail.actors}}</p>
      <p>Rating: {{detail.rating}}</p>
      <p>Genre: {{detail.genre}}</p>
      <p>Plot: {{detail.plot}}</p>
    </div>

    <script type="text/javascript">

      // Main
      function main() {

        var mapContainer = document.getElementById('map-canvas');
        var app = new Framework();

        // Services
        app.registerService('map', new GoogleMap(mapContainer));
        app.registerService('http', JsonHttp);

        // Controllers
        app.addController(HomeController);
        app.addController(SearchController);
        app.addController(LocationsController);
        app.addController(FilmController);
        
        // init routes
        app.load(window.location.hash);
      }

      google.maps.event.addDomListener(window, 'load', main);

    </script>
  </body>
</html